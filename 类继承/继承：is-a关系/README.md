### 虚函数

- 要在派生类中重新定义基类的方法，通常应将基类方法声名为虚的。
- 程序将根据对象类型而不是引用或指针的类型选择版本。
- virtual只用于类声明的方法原型中。

### 调用父类方法

- 构造函数可以通过成员初始化列表语法，将基类信息传递给基类构造函数。
- 派生类方法可以调用公有的基类方法。
- 使用作用域解析运算符来调用基类方法。

### 静态联编和动态联编

- 静态：在编译过程中进行联编。
- 动态：在程序运行时选择正确的虚方法的代码。

### 指针和引用类型的兼容性

- c++不允许将一种类型的地址赋给另一种类型的指针。
- 向上强制转换：将派生类引用或指针转换为基类引用或指针。
- 向下强制转换：如果不使用显式类型转换，向下强制转换是不允许的。

### 虚函数工作原理

- 给每个对象添加一个隐藏成员，保存一个指向函数地址数组的指针。
- 这种指针成为虚函数表。
- 虚函数表存储了为类对象进行声名的虚函数的地址。

### 虚函数注意事项

- 基类方法的声名中使用virtual可使该方法在基类以及所有的派生类中是虚的。
- 构造函数不能是虚函数。
- 析构函数应当是虚函数，
- 友元不能是虚函数。
- 没有重新定义函数，将使用该函数的基类版本。
- 重新定义将隐藏方法。重新定义继承的方法，应确保与原来的原型圈圈相同。
- 返回类型协变，如果返回类型是基类引用或指针，可以修改为指向派生类的引用或指针。
- 如果基类声名被重载了，应在派生类中重新定义所有的基类版本。

### 访问控制：protected

- 派生类成员可以直接使用protected成员。
- 外部世界不能使用protected成员。
